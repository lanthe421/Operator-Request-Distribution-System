# üìñ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ–±—Ä–∞—â–µ–Ω–∏–π

## üöÄ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

```bash
python main.py
```

–ò–ª–∏ —á–µ—Ä–µ–∑ uvicorn:
```bash
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: **http://localhost:8000**

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:8000
–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å: `{"status": "ok", "message": "Operator Request Distribution System is running"}`

### 3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

FastAPI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:
- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

```bash
# –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
curl -X POST "http://localhost:8000/api/v1/operators" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
    "max_load_limit": 10
  }'

# –°–æ–∑–¥–∞—Ç—å –≤—Ç–æ—Ä–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
curl -X POST "http://localhost:8000/api/v1/operators" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞",
    "max_load_limit": 15
  }'

# –°–æ–∑–¥–∞—Ç—å —Ç—Ä–µ—Ç—å–µ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
curl -X POST "http://localhost:8000/api/v1/operators" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–ê–ª–µ–∫—Å–µ–π –ò–≤–∞–Ω–æ–≤",
    "max_load_limit": 8
  }'
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": 1,
  "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
  "is_active": true,
  "max_load_limit": 10,
  "current_load": 0,
  "created_at": "2025-11-25T10:00:00"
}
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –æ–±—Ä–∞—â–µ–Ω–∏–π

```bash
# Telegram –±–æ—Ç
curl -X POST "http://localhost:8000/api/v1/sources" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Telegram Bot",
    "identifier": "telegram"
  }'

# Email
curl -X POST "http://localhost:8000/api/v1/sources" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Email Support",
    "identifier": "email"
  }'

# –¢–µ–ª–µ—Ñ–æ–Ω
curl -X POST "http://localhost:8000/api/v1/sources" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Phone Support",
    "identifier": "phone"
  }'
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–µ—Å–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –¥–ª—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

–í–µ—Å–∞ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ (–æ—Ç 1 –¥–æ 100).

```bash
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–µ—Å–∞ –¥–ª—è Telegram
curl -X POST "http://localhost:8000/api/v1/sources/1/operators" \
  -H "Content-Type: application/json" \
  -d '{
    "weights": [
      {"operator_id": 1, "weight": 50},
      {"operator_id": 2, "weight": 30},
      {"operator_id": 3, "weight": 20}
    ]
  }'

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–µ—Å–∞ –¥–ª—è Email
curl -X POST "http://localhost:8000/api/v1/sources/2/operators" \
  -H "Content-Type: application/json" \
  -d '{
    "weights": [
      {"operator_id": 1, "weight": 40},
      {"operator_id": 2, "weight": 60}
    ]
  }'

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–µ—Å–∞ –¥–ª—è Phone
curl -X POST "http://localhost:8000/api/v1/sources/3/operators" \
  -H "Content-Type: application/json" \
  -d '{
    "weights": [
      {"operator_id": 2, "weight": 70},
      {"operator_id": 3, "weight": 30}
    ]
  }'
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –≤–µ—Å–æ–≤:**
- –û–ø–µ—Ä–∞—Ç–æ—Ä —Å –≤–µ—Å–æ–º 50 –ø–æ–ª—É—á–∏—Ç ~50% –æ–±—Ä–∞—â–µ–Ω–∏–π
- –û–ø–µ—Ä–∞—Ç–æ—Ä —Å –≤–µ—Å–æ–º 30 –ø–æ–ª—É—á–∏—Ç ~30% –æ–±—Ä–∞—â–µ–Ω–∏–π
- –û–ø–µ—Ä–∞—Ç–æ—Ä —Å –≤–µ—Å–æ–º 20 –ø–æ–ª—É—á–∏—Ç ~20% –æ–±—Ä–∞—â–µ–Ω–∏–π

### –®–∞–≥ 4: –°–æ–∑–¥–∞–π—Ç–µ –æ–±—Ä–∞—â–µ–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç –æ–±—Ä–∞—â–µ–Ω–∏—è –º–µ–∂–¥—É –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏!

```bash
# –û–±—Ä–∞—â–µ–Ω–∏–µ –∏–∑ Telegram
curl -X POST "http://localhost:8000/api/v1/requests" \
  -H "Content-Type: application/json" \
  -d '{
    "user_identifier": "user123@telegram",
    "source_id": 1,
    "message": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –£ –º–µ–Ω—è –≤–æ–ø—Ä–æ—Å –ø–æ –∑–∞–∫–∞–∑—É #12345"
  }'

# –û–±—Ä–∞—â–µ–Ω–∏–µ –∏–∑ Email
curl -X POST "http://localhost:8000/api/v1/requests" \
  -H "Content-Type: application/json" \
  -d '{
    "user_identifier": "client@example.com",
    "source_id": 2,
    "message": "–ù–µ –º–æ–≥—É –≤–æ–π—Ç–∏ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç"
  }'

# –û–±—Ä–∞—â–µ–Ω–∏–µ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É
curl -X POST "http://localhost:8000/api/v1/requests" \
  -H "Content-Type: application/json" \
  -d '{
    "user_identifier": "+79991234567",
    "source_id": 3,
    "message": "–•–æ—á—É –æ—Ñ–æ—Ä–º–∏—Ç—å –≤–æ–∑–≤—Ä–∞—Ç —Ç–æ–≤–∞—Ä–∞"
  }'
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": 1,
  "user_id": 1,
  "source_id": 1,
  "operator_id": 1,
  "message": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –£ –º–µ–Ω—è –≤–æ–ø—Ä–æ—Å –ø–æ –∑–∞–∫–∞–∑—É #12345",
  "status": "assigned",
  "created_at": "2025-11-25T10:05:00"
}
```

### –®–∞–≥ 5: –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

#### –ó–∞–≥—Ä—É–∑–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

```bash
curl "http://localhost:8000/api/v1/stats/operators-load"
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "operators": [
    {
      "operator_id": 1,
      "operator_name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
      "current_load": 5,
      "max_load_limit": 10,
      "load_percentage": 50.0,
      "is_active": true
    },
    {
      "operator_id": 2,
      "operator_name": "–ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞",
      "current_load": 8,
      "max_load_limit": 15,
      "load_percentage": 53.33,
      "is_active": true
    }
  ]
}
```

#### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–±—Ä–∞—â–µ–Ω–∏–π

```bash
curl "http://localhost:8000/api/v1/stats/requests-distribution"
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "by_operator": [
    {
      "operator_id": 1,
      "operator_name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
      "request_count": 5
    },
    {
      "operator_id": 2,
      "operator_name": "–ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞",
      "request_count": 8
    }
  ],
  "by_source": [
    {
      "source_id": 1,
      "source_name": "Telegram Bot",
      "request_count": 7
    },
    {
      "source_id": 2,
      "source_name": "Email Support",
      "request_count": 6
    }
  ],
  "unassigned_count": 0
}
```

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

```bash
curl "http://localhost:8000/api/v1/operators"
```

### –û–±–Ω–æ–≤–∏—Ç—å –ª–∏–º–∏—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞

```bash
curl -X PUT "http://localhost:8000/api/v1/operators/1" \
  -H "Content-Type: application/json" \
  -d '{
    "max_load_limit": 20
  }'
```

### –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å/–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞

```bash
# –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å (–æ–ø–µ—Ä–∞—Ç–æ—Ä –Ω–µ –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –Ω–æ–≤—ã–µ –æ–±—Ä–∞—â–µ–Ω–∏—è)
curl -X PUT "http://localhost:8000/api/v1/operators/1/toggle-active"

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
curl -X PUT "http://localhost:8000/api/v1/operators/1/toggle-active"
```

## üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –æ–±—Ä–∞—â–µ–Ω–∏–π

### –í—Å–µ –æ–±—Ä–∞—â–µ–Ω–∏—è

```bash
curl "http://localhost:8000/api/v1/requests"
```

### –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ

```bash
curl "http://localhost:8000/api/v1/requests/1"
```

**–û—Ç–≤–µ—Ç —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:**
```json
{
  "id": 1,
  "user": {
    "id": 1,
    "identifier": "user123@telegram"
  },
  "source": {
    "id": 1,
    "name": "Telegram Bot",
    "identifier": "telegram"
  },
  "operator": {
    "id": 1,
    "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤"
  },
  "message": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –£ –º–µ–Ω—è –≤–æ–ø—Ä–æ—Å –ø–æ –∑–∞–∫–∞–∑—É #12345",
  "status": "assigned",
  "created_at": "2025-11-25T10:05:00"
}
```

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ú–∞—Å—Å–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞—â–µ–Ω–∏–π

```bash
# –°–æ–∑–¥–∞—Ç—å 10 –æ–±—Ä–∞—â–µ–Ω–∏–π –∏–∑ Telegram
for i in {1..10}; do
  curl -X POST "http://localhost:8000/api/v1/requests" \
    -H "Content-Type: application/json" \
    -d "{
      \"user_identifier\": \"user${i}@telegram\",
      \"source_id\": 1,
      \"message\": \"–¢–µ—Å—Ç–æ–≤–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –Ω–æ–º–µ—Ä ${i}\"
    }"
  sleep 0.5
done
```

### –ü—Ä–∏–º–µ—Ä 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—Ä–∞—â–µ–Ω–∏–π –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:

```bash
curl "http://localhost:8000/api/v1/stats/requests-distribution"
```

–í—ã —É–≤–∏–¥–∏—Ç–µ, —á—Ç–æ –æ–±—Ä–∞—â–µ–Ω–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏–ª–∏—Å—å —Å–æ–≥–ª–∞—Å–Ω–æ –≤–µ—Å–∞–º!

## üêç –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–∑ Python

```python
import requests

BASE_URL = "http://localhost:8000/api/v1"

# –°–æ–∑–¥–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
response = requests.post(
    f"{BASE_URL}/operators",
    json={
        "name": "–ù–æ–≤—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä",
        "max_load_limit": 10
    }
)
operator = response.json()
print(f"–°–æ–∑–¥–∞–Ω –æ–ø–µ—Ä–∞—Ç–æ—Ä: {operator['name']}")

# –°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ
response = requests.post(
    f"{BASE_URL}/requests",
    json={
        "user_identifier": "python_user@example.com",
        "source_id": 1,
        "message": "–û–±—Ä–∞—â–µ–Ω–∏–µ –∏–∑ Python —Å–∫—Ä–∏–ø—Ç–∞"
    }
)
request = response.json()
print(f"–û–±—Ä–∞—â–µ–Ω–∏–µ #{request['id']} –Ω–∞–∑–Ω–∞—á–µ–Ω–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É #{request['operator_id']}")

# –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
response = requests.get(f"{BASE_URL}/stats/operators-load")
stats = response.json()
for op in stats['operators']:
    print(f"{op['operator_name']}: {op['current_load']}/{op['max_load_limit']} ({op['load_percentage']:.1f}%)")
```

## ‚öôÔ∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è
- –£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã (`is_active = true`)
- –£—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (`current_load < max_load_limit`)
- –í—ã–±–æ—Ä –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–µ—Å–æ–≤

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏—Ç—É–∞—Ü–∏–π

**–ï—Å–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤:**
- –û–±—Ä–∞—â–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `waiting`
- `operator_id` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ `null`
- –û–±—Ä–∞—â–µ–Ω–∏–µ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –Ω–∞–∑–Ω–∞—á–∏—Ç—å –ø–æ–∑–∂–µ –≤—Ä—É—á–Ω—É—é

**–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:**
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è

### –í–µ—Å–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

- –í–µ—Å –æ—Ç 1 –¥–æ 100
- –ß–µ–º –≤—ã—à–µ –≤–µ—Å, —Ç–µ–º –±–æ–ª—å—à–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ
- –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–µ—Å–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- –û–ø–µ—Ä–∞—Ç–æ—Ä –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –≤–µ—Å–∞ –¥–ª—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –Ω–µ –ø–æ–ª—É—á–∏—Ç –æ–±—Ä–∞—â–µ–Ω–∏—è

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Health Check

```bash
curl "http://localhost:8000/health"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –º–∏–≥—Ä–∞—Ü–∏–π
alembic current

# –ò—Å—Ç–æ—Ä–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
alembic history
```

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –û–±—Ä–∞—â–µ–Ω–∏—è –Ω–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –ï—Å—Ç—å –ª–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã: `GET /api/v1/operators`
2. –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ª–∏ –≤–µ—Å–∞ –¥–ª—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞: `GET /api/v1/sources`
3. –ù–µ –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏ –ª–∏–º–∏—Ç –∑–∞–≥—Ä—É–∑–∫–∏: `GET /api/v1/stats/operators-load`

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ 409 Conflict

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
- –î—É–±–ª–∏—Ä—É—é—â–∏–π—Å—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–∞
- –ü–æ–ø—ã—Ç–∫–∞ —É–¥–∞–ª–∏—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è–º–∏

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ 422 Validation Error

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –í–µ—Å–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç 1 –¥–æ 100
- –ò–º–µ–Ω–∞ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—É—Å—Ç—ã–º–∏
- –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API**: http://localhost:8000/docs
- **–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è**: `.kiro/specs/operator-request-distribution/`
- **–¢–µ—Å—Ç—ã**: `pytest -v` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ–±—Ä–∞—â–µ–Ω–∏–π –º–µ–∂–¥—É –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏!
